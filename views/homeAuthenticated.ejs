<%-include('templates/header');%>
<head>
    <link rel="stylesheet" href="/public/css/homeAuthenticated.css">
</head>

<a href="/goals">
    <div class="rectangle box-shadow-3d" style="background-color: #EBB0D7; color: black; text-decoration: none;">
        Goals
        <!-- https://www.youtube.com/watch?v=Ll5f0jGIqa4 -->

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress">
                <div class="progress-done"></div>
            </div>

            <% if (result && result.goal && result.goal.length > 0) { %>
                <% const randomGoal = result.goal[Math.floor(Math.random() * result.goal.length)]; %>
                <div>
                    <h3><%= randomGoal[2] %></h3>
                    <p><%= randomGoal[3] %> out of <%= randomGoal[0] %> completed!</p>
                </div>
                <script>
                    var randomGoal = <%- JSON.stringify(randomGoal) %>;
                </script>
            <% } else { %>
                <h3> You have no goals yet!</h3>
                <script>
                    var randomGoal = null;
                </script>
            <% } %>
        </div>
    </div>
    <script src="/public/js/goalsHome.js"></script>
</a>

<!-- list of workouts for today -->
<a href="/schedule">
    <div class="rectangle box-shadow-3d" style="background-color: #A8EEE1;">
        <p style="color: black;">Workout Plan</p>

        
        <div class="card" style="background-color: #71e4cf;">
            <div class="card-body">
                <h5 class="card-title">
                    <a style="font-size: 20pt; color: black;" href="/scheduleEditor/<%=currentDay%>"><%= currentDay; %></a>
                </h5>
                <ul class="list-group">
                    <% for (let j = 0; j < workoutNames[0][currentDay].length; j++) { 
                        if (workoutIDs.length == 0) { %>
                            <p>No workouts</p>
                        <% break;
                        } %>
                        <li class="list-group-item border border-dark rounded" style="background-color: #71e4cf; color: black; font-size: 15pt;">
                            <u><a style="color: black" href="/exercise/<%= workoutIDs[j].id %>"><%= workoutNames[0][currentDay][j] %></a></u>
                        </li><p></p>
                    <% } %>
                </ul>
            </div>
            <p></p>
        </div>
    </div>
</a>

<a href="/exercises">
    <div class="rectangle box-shadow-3d" style="background-color: #A8EEB3; color: black; text-decoration: none;">Exercises For You
        <br><br>
        <ul class="list-unstyled">
            <% exercisesInfo.forEach(exercise => { %>
                <li id="<%= exercise.name %>" class="mb-3 text-center">
                    <a href="/exercise/<%= exercise.id %>" class="text-decoration-none">
                        <div class="card" style="background-color: #8BD897; color: black; text-decoration: none;">
                            <div class="card-body">
                                <h3 class="card-title"><%= exercise.name %></h3>
                                <img src="/exercises/<%= exercise.images[0] %>" alt="<%= exercise.name %>" class="img-fluid mb-2">
                                <p class="card-text">Muscles: <%= exercise.primaryMuscles[0].charAt(0).toUpperCase() + exercise.primaryMuscles[0].slice(1) %><br>Difficulty: <%= exercise.level.charAt(0).toUpperCase() + exercise.level.slice(1) %></p>
                            </div>
                        </div>
                    </a>
                </li>
            <% }); %>
        </ul>
    </div>
</a>

<%-include('templates/footer');%>